{"version":3,"file":"injection.js","sources":["../../src/config.js","../../src/remover.js","../../src/injection.js"],"sourcesContent":["'use strict';\n\n// basic\nexport const APP_NAME = 'Youtube Shorts Remover';\n\n// message keys\nexport const MSG_KEY_REMOVE_EL = \"removeElements\";\nexport const MSG_KEY_CURRENT_URL = \"currentUrl\";\n\n// html elements to remove\nexport const HTML_ELEMENTS_TO_REMOVE = [\n    { \"escalate\": 1, \"query\": `a[title=\"Shorts\"]`}\n];","'use strict';\n\n// import config\nimport { APP_NAME, HTML_ELEMENTS_TO_REMOVE } from './config.js';\n\n\nfunction is_youtube(){\n\n    // get url\n    const url = window.location.href;\n\n    // validate\n    return url.includes('youtube');\n}\n\n\nexport default function remove_html_elements(){\n\n    // check \n    if(!is_youtube()) return;\n\n    // go through removers\n    HTML_ELEMENTS_TO_REMOVE.forEach(HTML_ELEMENT_TO_REMOVE => {\n\n        // destructure\n        const { escalate, query } = HTML_ELEMENT_TO_REMOVE;\n\n        // log\n        console.log(`${APP_NAME} - Selecting ${query}`)\n\n        // get div element\n        const selector = document.querySelectorAll(query);\n        \n        // validate\n        if(selector === null || selector[0] === undefined || selector[0] === null) {\n            \n            // log\n            console.log(`${APP_NAME} - Failed to run ${query}`);\n            \n            return;\n        }\n\n        // escalate to parent\n        let parentEl = selector[0];\n        for(let i=0 ; i<escalate ; i++){\n            parentEl = parentEl.parentElement;\n        }\n        parentEl.remove();\n    });    \n}\n","'use strict';\n\n// import config\nimport { APP_NAME, MSG_KEY_REMOVE_EL, MSG_KEY_CURRENT_URL } from './config.js';\n\n// import remover\nimport remover from './remover.js';\n\n\n// message interface\nchrome.runtime.onMessage.addListener(async function(message, sender, sendResponse) {\n        switch(message.type) {\n            case MSG_KEY_CURRENT_URL:\n                console.log(`${APP_NAME} - url requested`)\n                const url = window.location.href;\n                sendResponse(url);\n                break;\n\n            case MSG_KEY_REMOVE_EL:\n                console.log(`${APP_NAME} - removing shorts`)\n                remover();\n\n            default:\n                console.error(`${APP_NAME} - Unrecognised message: `, message.type);\n        }\n    }\n);\n"],"names":["remover"],"mappings":";;;IAEA;IACO,MAAM,QAAQ,GAAG,wBAAwB,CAAC;AACjD;IACA;IACO,MAAM,iBAAiB,GAAG,gBAAgB,CAAC;IAC3C,MAAM,mBAAmB,GAAG,YAAY,CAAC;AAChD;IACA;IACO,MAAM,uBAAuB,GAAG;IACvC,IAAI,EAAE,UAAU,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,iBAAiB,CAAC,CAAC;IAClD,CAAC;;ICND,SAAS,UAAU,EAAE;AACrB;IACA;IACA,IAAI,MAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;AACrC;IACA;IACA,IAAI,OAAO,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;IACnC,CAAC;AACD;AACA;IACe,SAAS,oBAAoB,EAAE;AAC9C;IACA;IACA,IAAI,GAAG,CAAC,UAAU,EAAE,EAAE,OAAO;AAC7B;IACA;IACA,IAAI,uBAAuB,CAAC,OAAO,CAAC,sBAAsB,IAAI;AAC9D;IACA;IACA,QAAQ,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,sBAAsB,CAAC;AAC3D;IACA;IACA,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC,EAAC;AACvD;IACA;IACA,QAAQ,MAAM,QAAQ,GAAG,QAAQ,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;IAC1D;IACA;IACA,QAAQ,GAAG,QAAQ,KAAK,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,SAAS,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;IACnF;IACA;IACA,YAAY,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;IAChE;IACA,YAAY,OAAO;IACnB,SAAS;AACT;IACA;IACA,QAAQ,IAAI,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;IACnC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,GAAG,CAAC,EAAE,CAAC;IACvC,YAAY,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC;IAC9C,SAAS;IACT,QAAQ,QAAQ,CAAC,MAAM,EAAE,CAAC;IAC1B,KAAK,CAAC,CAAC;IACP;;ICxCA;IACA,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,CAAC,eAAe,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE;IACnF,QAAQ,OAAO,OAAO,CAAC,IAAI;IAC3B,YAAY,KAAK,mBAAmB;IACpC,gBAAgB,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,gBAAgB,CAAC,EAAC;IAC1D,gBAAgB,MAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;IACjD,gBAAgB,YAAY,CAAC,GAAG,CAAC,CAAC;IAClC,gBAAgB,MAAM;AACtB;IACA,YAAY,KAAK,iBAAiB;IAClC,gBAAgB,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,kBAAkB,CAAC,EAAC;IAC5D,gBAAgBA,oBAAO,EAAE,CAAC;AAC1B;IACA,YAAY;IACZ,gBAAgB,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,yBAAyB,CAAC,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;IACpF,SAAS;IACT,KAAK;IACL,CAAC;;;;;;"}