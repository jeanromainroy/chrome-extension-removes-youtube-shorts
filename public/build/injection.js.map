{"version":3,"file":"injection.js","sources":["../../src/injection.js"],"sourcesContent":["'use strict';\n\n// config\nconst APP_NAME = 'Youtube Shorts';\nconst SHORTS_ID = \"Shorts\";\nconst parentLevel = 1;\n\n\nfunction removeShorts(){\n\n    // get url\n    const url = window.location.href;\n\n    // validate\n    if (!url.includes('youtube')) return;\n\n    // log\n    console.log(`Processing ${url}`);\n    \n    // get div element\n    const selector = document.querySelectorAll(`a[title=\"${SHORTS_ID}\"]`);\n    const el = (selector === null || selector[0] === undefined || selector[0] === null) ? null : selector[0];\n\n    // validate\n    if (el === null) return;\n\n    // select parent\n    let parentEl = el;\n    for(let i=0 ; i<parentLevel ; i++){\n        parentEl = parentEl.parentElement;\n    }\n    parentEl.remove();\n}\n\n\n// message interface\nchrome.runtime.onMessage.addListener(async function(message, sender, sendResponse) {\n        switch(message.type) {\n            case \"currentPage\":\n                console.log(`${APP_NAME} - url requested`)\n                const url = window.location.href;\n                sendResponse(url);\n                break;\n\n            case \"tabChange\":\n                console.log(`${APP_NAME} - tab changed, scrolling & scraping stopped`)\n                break;\n\n            case \"removeShorts\":\n                console.log(`${APP_NAME} - removing shorts`)\n                removeShorts();\n\n            default:\n                console.error(\"Unrecognised message: \", message);\n        }\n    }\n);\n"],"names":[],"mappings":";;;IAEA;IACA,MAAM,QAAQ,GAAG,gBAAgB,CAAC;IAClC,MAAM,SAAS,GAAG,QAAQ,CAAC;IAC3B,MAAM,WAAW,GAAG,CAAC,CAAC;AACtB;AACA;IACA,SAAS,YAAY,EAAE;AACvB;IACA;IACA,IAAI,MAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;AACrC;IACA;IACA,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,OAAO;AACzC;IACA;IACA,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;IACrC;IACA;IACA,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,gBAAgB,CAAC,CAAC,SAAS,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1E,IAAI,MAAM,EAAE,GAAG,CAAC,QAAQ,KAAK,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,SAAS,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,IAAI,IAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC7G;IACA;IACA,IAAI,IAAI,EAAE,KAAK,IAAI,EAAE,OAAO;AAC5B;IACA;IACA,IAAI,IAAI,QAAQ,GAAG,EAAE,CAAC;IACtB,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,WAAW,GAAG,CAAC,EAAE,CAAC;IACtC,QAAQ,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC;IAC1C,KAAK;IACL,IAAI,QAAQ,CAAC,MAAM,EAAE,CAAC;IACtB,CAAC;AACD;AACA;IACA;IACA,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,CAAC,eAAe,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE;IACnF,QAAQ,OAAO,OAAO,CAAC,IAAI;IAC3B,YAAY,KAAK,aAAa;IAC9B,gBAAgB,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,gBAAgB,CAAC,EAAC;IAC1D,gBAAgB,MAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;IACjD,gBAAgB,YAAY,CAAC,GAAG,CAAC,CAAC;IAClC,gBAAgB,MAAM;AACtB;IACA,YAAY,KAAK,WAAW;IAC5B,gBAAgB,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,4CAA4C,CAAC,EAAC;IACtF,gBAAgB,MAAM;AACtB;IACA,YAAY,KAAK,cAAc;IAC/B,gBAAgB,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,kBAAkB,CAAC,EAAC;IAC5D,gBAAgB,YAAY,EAAE,CAAC;AAC/B;IACA,YAAY;IACZ,gBAAgB,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,OAAO,CAAC,CAAC;IACjE,SAAS;IACT,KAAK;IACL,CAAC;;;;;;"}